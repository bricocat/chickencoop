<!DOCTYPE html>
<html>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <head>
    <title>my chickencoop</title>
    <link rel='stylesheet' href='../css/style.css' />
  </head>
  <body>
        <script src="/socket.io/socket.io.js"></script>
        <script>
          
            var socket = io();

            window.onload = function(){

                socket.emit('get_data');
            }

            socket.on('set_data', function(msg){

              var obj = JSON.parse(msg);   
              var myElement = document.getElementById("temp_chickencoop");  
              myElement.innerHTML = obj.Temp_Chickencoop + " Â°C";

              myElement = document.getElementById("voltage_battery");  
              myElement.innerHTML = obj.Voltage_Battery + " V";

              myElement = document.getElementById("door_status");  
              myElement.innerHTML = obj.Door_Status;


            });
            
        </script>

      <h2>my chickencoop</h2>
        
      <table>
        <tr>
            <td><span>Temperature: </span></td><td><span id="temp_chickencoop">NA</span></td>
        </tr>
        <tr>
            <td><span>Battery: </span></td><td><span id="voltage_battery">NA</span></td>
        </tr>
        <tr>
            <td><span>Door status: </span></td><td><span id="door_status">NA</span></td>
            <td><button type="button" onclick="socket.emit('door_open');">Open</button></td>
            <td><button type="button" onclick="socket.emit('door_close');">Close</button></td>
        </tr>
      </table>
      <br>

  </body>
</html>